<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TileGame 3D</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="game-container">
        <canvas id="gameCanvas"></canvas>
    </div>

    <!-- Main Menu -->
    <div id="main-menu">
        <h1>TileGame 3D</h1>
        <div class="class-selection">
            <h3>Choose Class</h3>
            <div class="class-buttons">
                <button class="class-btn selected" data-class="warrior">Warrior</button>
                <button class="class-btn" data-class="mage">Mage</button>
                <button class="class-btn" data-class="hunter">Hunter</button>
            </div>
        </div>
        <div class="menu-options">
            <button class="menu-btn" data-mode="horde">Skeleton Horde</button>
            <button class="menu-btn" data-mode="dungeon">Dungeon</button>
            <button class="menu-btn" data-mode="boss">Skeleton Boss</button>
        </div>
    </div>

    <div id="ui">
        <div id="health-bar">
            <div id="health-fill"></div>
            <span id="health-text">100 / 100</span>
        </div>
        <div id="controls-hint">
            <span>WASD: Move</span>
            <span>LMB: Click to Move/Attack</span>
            <span>RMB: Target/Turn</span>
            <span>Tab: Cycle Target</span>
            <span>Space: Jump</span>
        </div>
        <div id="ability-bar">
            <div class="ability" id="ability-q">
                <span class="key">Q</span>
                <span class="name">Cleave</span>
                <div class="cooldown-overlay"></div>
            </div>
            <div class="ability" id="ability-f">
                <span class="key">F</span>
                <span class="name">Whirlwind</span>
                <div class="cooldown-overlay"></div>
            </div>
            <div class="ability" id="ability-e">
                <span class="key">E</span>
                <span class="name">Parry</span>
                <div class="cooldown-overlay"></div>
            </div>
            <div class="ability" id="ability-r">
                <span class="key">R</span>
                <span class="name">Heroic Leap</span>
                <div class="cooldown-overlay"></div>
            </div>
            <div class="ability" id="ability-c">
                <span class="key">C</span>
                <span class="name">Sunder</span>
                <div class="cooldown-overlay"></div>
            </div>
        </div>
        <!-- Hotbar for quick-use consumables -->
        <div id="hotbar">
            <div class="hotbar-slot" data-slot="0">
                <span class="hotbar-key">1</span>
                <div class="hotbar-item"></div>
                <div class="hotbar-quantity"></div>
                <div class="hotbar-cooldown"></div>
            </div>
            <div class="hotbar-slot" data-slot="1">
                <span class="hotbar-key">2</span>
                <div class="hotbar-item"></div>
                <div class="hotbar-quantity"></div>
                <div class="hotbar-cooldown"></div>
            </div>
            <div class="hotbar-slot" data-slot="2">
                <span class="hotbar-key">3</span>
                <div class="hotbar-item"></div>
                <div class="hotbar-quantity"></div>
                <div class="hotbar-cooldown"></div>
            </div>
            <div class="hotbar-slot" data-slot="3">
                <span class="hotbar-key">4</span>
                <div class="hotbar-item"></div>
                <div class="hotbar-quantity"></div>
                <div class="hotbar-cooldown"></div>
            </div>
            <div class="hotbar-slot" data-slot="4">
                <span class="hotbar-key">5</span>
                <div class="hotbar-item"></div>
                <div class="hotbar-quantity"></div>
                <div class="hotbar-cooldown"></div>
            </div>
            <div id="gold-display">
                <span id="gold-icon">$</span>
                <span id="gold-amount">0</span>
            </div>
        </div>
    </div>

    <!-- Inventory Panel -->
    <div id="inventory-panel">
        <div id="inventory-header">
            <span>Inventory</span>
            <button id="inventory-close">X</button>
        </div>
        <div id="inventory-content">
            <div id="equipment-section">
                <div class="equip-slot" data-slot="helmet">
                    <span class="equip-label">Head</span>
                </div>
                <div class="equip-slot" data-slot="weapon">
                    <span class="equip-label">Weapon</span>
                </div>
                <div class="equip-slot" data-slot="chest">
                    <span class="equip-label">Chest</span>
                </div>
                <div class="equip-slot" data-slot="gloves">
                    <span class="equip-label">Hands</span>
                </div>
                <div class="equip-slot" data-slot="boots">
                    <span class="equip-label">Feet</span>
                </div>
                <div class="equip-slot" data-slot="ring">
                    <span class="equip-label">Ring</span>
                </div>
                <div class="equip-slot" data-slot="amulet">
                    <span class="equip-label">Amulet</span>
                </div>
            </div>
            <div id="inventory-grid"></div>
        </div>
        <div id="equipment-stats">
            <span>DMG: <span id="stat-damage">0</span></span>
            <span>DEF: <span id="stat-defense">0</span></span>
        </div>
    </div>

    <!-- Item Tooltip -->
    <div id="item-tooltip">
        <div id="tooltip-name"></div>
        <div id="tooltip-type"></div>
        <div id="tooltip-stats"></div>
        <div id="tooltip-desc"></div>
    </div>

    <!-- Crosshair removed - using visible cursor now -->

    <div id="target-frame">
        <div id="target-name">Skeleton</div>
        <div id="target-health-bar">
            <div id="target-health-fill"></div>
        </div>
    </div>

    <button id="return-menu-btn">Menu</button>

    <div id="minimap">
        <canvas id="minimap-canvas" width="180" height="180"></canvas>
        <span id="minimap-label">Map</span>
    </div>

    <!-- Fishing Prompt -->
    <div id="fishing-prompt" class="interaction-prompt">
        <span class="prompt-key">F</span>
        <span class="prompt-text">Fish</span>
    </div>

    <!-- Fishing Status -->
    <div id="fishing-status">
        <span id="fishing-text">Fishing...</span>
    </div>

    <!-- Fishing Minigame -->
    <div id="fishing-minigame">
        <div id="fishing-progress-bar">
            <div id="progress-fill"></div>
            <span id="progress-label">Progress</span>
        </div>
        <div id="fishing-reel-bar">
            <div id="catch-zone"></div>
            <div id="fish-marker"></div>
        </div>
        <div id="fishing-tension-bar">
            <div id="tension-fill"></div>
            <span id="tension-label">Line Tension</span>
        </div>
    </div>

    <!-- Fishing Message -->
    <div id="fishing-message"></div>

    <script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
        }
    }
    </script>
    <script type="module" src="js/main.js?v=7"></script>
</body>
</html>
